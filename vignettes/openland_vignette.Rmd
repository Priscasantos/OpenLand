---
title: "Quick Intro for OpenLand Package"
output: rmarkdown::html_vignette
bibliography: papers_OpenLand.bib
vignette: >
  %\VignetteIndexEntry{Quick Intro for OpenLand Package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<style>
body {
text-align: justify}
</style>

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

**This is a Vignette on how to use the OpenLand package into Land Use and Land Cover (LULC)
data manipulation and producing visualisations.**

## Description of the tools

OpenLand is an open-source R package for the analysis of land use and land cover
time series. It includes support for loading spatiotemporal data `raster map`; 
simulating landscapes with some degree of spatial correlation; extraction of
land use transition matrices; computing of net change and gross changes in a given 
interval; performing a complete intensity analysis based on [@Aldwaik2012]. It provides
methods for visualizations of land use and land cover change like 
the outcomes of intensity analysis, as other graphs like sankey diagram 
(onestep or multistep) and chord diagram displaying the inter-relationships 
between the land uses.


## Data source
The datasets we are going to use for this experiment is from the SOSPantanal...

This is the steps in using OpenLand for LULCC data Analysis

We first need to load these package programs firs:

```{r setup}
library(OpenLand)
```

## The conteingency table in a long format

This function calculate a contingency table between a serie of points in time, Time$_{t}$ and Time$_{t+1}$
and give the number of elements (C~_tij_~) that transits from category _i_ to category _j_ during interval
this interval of time.

A prototype of this table is as following:

|[Y~_t_~, Y~_t+1_~] | Category~_i_~ | Category~_j_~ |C~_tij_~(km^2^)|Y~_t+1_~ - Y~_t_~|C~_tij_~(pixel)|Y~_t_~|Y~_t+1_~|
|:-----------:|:----------:|:----------:|:--------------:|:-----------:|:--------------:|:----:|:----:|
|Period of analysis from time point _t_ to time point _t+1_|A category at interval’s initial time point|A category at  interval’s final time point|Number of elements in km^2^ that transits from category _i_ to category _j_|Interval in years between time point _t_ and time point _t+1_|Number of elements in pixel that transits from category _i_ to category _j_|Initial Year of the interval| Final Year of the interval|
|Period|From|To|km2|interval|QtPixel|yearFrom|yearTo|


For our study with the function `contingenceTable(input_raster = SaoLourencoBasin, pixelresolution = 30)` area gives this contingency table:

```{r}

SL_2002_2014$lulc_Mulstistep

```

```{r eval=FALSE, include=FALSE}
knitr::kable(
SL_2002_2014$lulc_Mulstistep[1:10, ]
)
```

The second object returned from this function is a table containing the class name asociate with every pixel value and a color to be associate (important for the plots).

```{r}
SL_2002_2014$tb_legend

```

The third object returned from this function is a table containing the total area of study in km^2^ and in pixel unit.

```{r}
SL_2002_2014$totalArea

```

The fourth object is a contingency table, with the unique difference is the interval the firt year is Y~t~ and the final year is Y~T~.

```{r}

SL_2002_2014$lulc_Onstep

```
The last object is the total interval between the first year (Y~t~) and the last year(Y~T~) in year unit.

```{r}

SL_2002_2014$totalInterval

```



## Intensity Analysis

```{r}
testSL <- intensityanalysis(SL_2002_2014, class_n = "Ap", class_m = "SG")

# it's returns a list with 10 objects

testSL

```

## The graphics

```{r}
plot(testSL$lv1_tbl)
```



# References
